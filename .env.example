# =================================================================
# üîÆ Automagik Suite - Master Environment Configuration
# =================================================================
# This is the SINGLE SOURCE OF TRUTH for all Automagik services
# Copy this file to .env and configure your values
# All values in this file will be loaded automatically during installation
# If a value exists in .env, interactive collection will be skipped for that key

# =================================================================
# üîß Core System Settings (REQUIRED)
# =================================================================

# Global Environment Configuration
NODE_ENV=production
PYTHON_ENV=production
AUTOMAGIK_ENV=production

# Global Timezone Configuration (Critical for message timestamping)
AUTOMAGIK_TIMEZONE=UTC

# Global Encryption and Security
AUTOMAGIK_ENCRYPTION_KEY=eW91ci10ZXN0LWVuY3J5cHRpb24ta2V5LS0tLS0tLS0=

# =================================================================
# ü§ñ AM Agents Labs Configuration (REQUIRED)
# =================================================================

# Core Application Settings
AUTOMAGIK_API_KEY=namastex888
AUTOMAGIK_API_HOST=0.0.0.0
AUTOMAGIK_API_PORT=8881

# Database Configuration
# Database type: sqlite (default) or postgresql
AUTOMAGIK_DATABASE_TYPE=sqlite

# SQLite Configuration (default, no additional setup needed)
AUTOMAGIK_SQLITE_DATABASE_PATH=./data/automagik.db

# PostgreSQL Configuration (for production use)
# Connection string format: postgresql://user:password@host:port/database  
# Docker will automatically extract credentials from this URL
AUTOMAGIK_DATABASE_URL=postgresql://automagik_user:automagik_pass@localhost:5432/automagik_db

# PostgreSQL Connection Pool Settings (optional tuning)
AUTOMAGIK_POSTGRES_POOL_MIN=10
AUTOMAGIK_POSTGRES_POOL_MAX=25

# Logging Configuration
AUTOMAGIK_LOG_LEVEL=INFO
AUTOMAGIK_VERBOSE_LOGGING=false
AUTOMAGIK_LOG_TO_FILE=false
AUTOMAGIK_LOG_FILE_PATH=debug.log
AUTOMAGIK_LOG_DIRECTORY=./logs

# External Logging Service (optional)
AUTOMAGIK_LOGFIRE_TOKEN=
AUTOMAGIK_LOGFIRE_IGNORE_NO_CONFIG=true

# Agent Configuration
AUTOMAGIK_AGENT_NAMES=
# Default model for agents when not specified (defaults to gpt-4.1-mini)
AUTOMAGIK_DEFAULT_MODEL=gpt-4.1-mini

# Performance & Limits
AUTOMAGIK_LLM_MAX_CONCURRENT_REQUESTS=15
AUTOMAGIK_LLM_RETRY_ATTEMPTS=3
AUTOMAGIK_UVICORN_LIMIT_CONCURRENCY=100
AUTOMAGIK_UVICORN_LIMIT_MAX_REQUESTS=1000

# Claude Code Integration
# Local workspace directory for Claude Code operations
AUTOMAGIK_CLAUDE_LOCAL_WORKSPACE=/tmp/claude-workspace
# Whether to cleanup Claude Code workspace after operations
AUTOMAGIK_CLAUDE_LOCAL_CLEANUP=true

# MCP (Model Context Protocol) Operations (Optional)
# Operational features for MCP system
MCP_HOT_RELOAD_ENABLED=true

# =================================================================
# üöÄ Automagik Spark Configuration (REQUIRED)
# =================================================================

# Core Application Settings
AUTOMAGIK_SPARK_ENV=development
AUTOMAGIK_SPARK_API_KEY=namastex888
AUTOMAGIK_SPARK_TEST_API_KEY=namastex888
AUTOMAGIK_SPARK_API_HOST=localhost
AUTOMAGIK_SPARK_API_PORT=8883
# CORS origins (comma-separated list for web UI access)
AUTOMAGIK_SPARK_API_CORS=http://localhost:3000,http://localhost:8883
# Public URL where AutoMagik Spark API is accessible (for webhooks, callbacks)
AUTOMAGIK_SPARK_REMOTE_URL=http://localhost:8883

# Database Configuration
# Primary database connection (PostgreSQL recommended for production)
# Connection string format: postgresql+asyncpg://user:password@host:port/database
AUTOMAGIK_SPARK_DATABASE_URL=postgresql+asyncpg://automagik:automagik@localhost:15432/automagik

# PostgreSQL Docker Compose Configuration
# These are used by docker-compose.yml to create the database container
AUTOMAGIK_SPARK_POSTGRES_USER=automagik
AUTOMAGIK_SPARK_POSTGRES_PASSWORD=automagik
AUTOMAGIK_SPARK_POSTGRES_DB=automagik

# Database Pool Settings (optional tuning)
AUTOMAGIK_SPARK_POSTGRES_POOL_MIN=5
AUTOMAGIK_SPARK_POSTGRES_POOL_MAX=20

# Logging Configuration
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
AUTOMAGIK_SPARK_LOG_LEVEL=DEBUG
# Worker log file path (logs/worker.log for development, /var/log/automagik/worker.log for production)
AUTOMAGIK_SPARK_WORKER_LOG=logs/worker.log
# Enable verbose logging for troubleshooting
AUTOMAGIK_SPARK_VERBOSE_LOGGING=false
# Log to file in addition to console
AUTOMAGIK_SPARK_LOG_TO_FILE=true
# Main application log file
AUTOMAGIK_SPARK_LOG_FILE_PATH=logs/spark.log

# Performance & Limits
# Maximum concurrent workflow executions
AUTOMAGIK_SPARK_MAX_CONCURRENT_WORKFLOWS=5
# Task retry configuration
AUTOMAGIK_SPARK_TASK_MAX_RETRIES=3
AUTOMAGIK_SPARK_TASK_RETRY_DELAY=60
# Request timeout settings (seconds)
AUTOMAGIK_SPARK_REQUEST_TIMEOUT=300
AUTOMAGIK_SPARK_HEALTH_CHECK_TIMEOUT=10

# LangFlow Integration (Primary Workflow Engine)
# LangFlow API endpoint (auto-discovery on ports 17860, 7860)
LANGFLOW_API_URL=http://localhost:17860
# LangFlow API key (leave empty for no authentication)
LANGFLOW_API_KEY=
# Auto-discovery settings
AUTOMAGIK_SPARK_LANGFLOW_AUTO_DISCOVER=true
AUTOMAGIK_SPARK_LANGFLOW_DISCOVERY_PORTS=17860,7860

# AutoMagik Agents Integration (Agent Execution Engine)
# AutoMagik Agents API configuration
AUTOMAGIK_AGENTS_API_HOST=0.0.0.0
AUTOMAGIK_AGENTS_API_PORT=8881
# Public URL where AutoMagik Agents API is accessible
AUTOMAGIK_AGENTS_URL=http://localhost:8881
# Auto-sync simple agent on startup
AUTOMAGIK_SPARK_AUTOMAGIK_AGENTS_AUTO_SYNC=true

# Celery Configuration (Task Queue & Scheduling)
# Redis broker configuration (task queue)
AUTOMAGIK_SPARK_CELERY_BROKER_URL=redis://localhost:16379/0
# Redis result backend (task results storage)
AUTOMAGIK_SPARK_CELERY_RESULT_BACKEND=redis://localhost:16379/0

# Task serialization settings
AUTOMAGIK_SPARK_CELERY_TASK_SERIALIZER=json
AUTOMAGIK_SPARK_CELERY_RESULT_SERIALIZER=json
AUTOMAGIK_SPARK_CELERY_ACCEPT_CONTENT=["json"]

# Worker performance settings
AUTOMAGIK_SPARK_CELERY_WORKER_PREFETCH_MULTIPLIER=1
AUTOMAGIK_SPARK_CELERY_WORKER_CONCURRENCY=2
AUTOMAGIK_SPARK_CELERY_WORKER_MAX_TASKS_PER_CHILD=1000

# Task tracking and monitoring
AUTOMAGIK_SPARK_CELERY_TASK_TRACK_STARTED=true
AUTOMAGIK_SPARK_CELERY_TASK_SEND_EVENTS=true
AUTOMAGIK_SPARK_CELERY_WORKER_SEND_TASK_EVENTS=true

# Connection and reliability settings
AUTOMAGIK_SPARK_CELERY_BROKER_CONNECTION_RETRY_ON_STARTUP=true
AUTOMAGIK_SPARK_CELERY_BROKER_CONNECTION_RETRY=true
AUTOMAGIK_SPARK_CELERY_BROKER_CONNECTION_MAX_RETRIES=10

# Beat scheduler configuration (task scheduling)
AUTOMAGIK_SPARK_CELERY_BEAT_MAX_LOOP_INTERVAL=5
AUTOMAGIK_SPARK_CELERY_BEAT_SCHEDULER=automagik_spark.core.celery.scheduler:DatabaseScheduler

# Development and debugging settings
# Set to true to run tasks synchronously for debugging (disables async execution)
AUTOMAGIK_SPARK_CELERY_TASK_ALWAYS_EAGER=false
# Propagate exceptions in eager mode for better debugging
AUTOMAGIK_SPARK_CELERY_TASK_EAGER_PROPAGATES=true

# Workflow Management Settings
# Default workflow execution timeout (seconds)
AUTOMAGIK_SPARK_WORKFLOW_DEFAULT_TIMEOUT=1800
# Maximum workflow input size (bytes)
AUTOMAGIK_SPARK_WORKFLOW_MAX_INPUT_SIZE=1048576
# Auto-cleanup completed workflows (days)
AUTOMAGIK_SPARK_WORKFLOW_CLEANUP_DAYS=30
# Enable workflow result caching
AUTOMAGIK_SPARK_WORKFLOW_CACHE_ENABLED=true
AUTOMAGIK_SPARK_WORKFLOW_CACHE_TTL=3600

# Monitoring & Observability (Optional)
# Enable metrics collection
AUTOMAGIK_SPARK_METRICS_ENABLED=true
# Metrics export port (Prometheus format)
AUTOMAGIK_SPARK_METRICS_PORT=9090
# Health check intervals (seconds)
AUTOMAGIK_SPARK_HEALTH_CHECK_INTERVAL=30

# External monitoring service integration
AUTOMAGIK_SPARK_MONITORING_WEBHOOK_URL=
AUTOMAGIK_SPARK_SLACK_WEBHOOK_URL=
AUTOMAGIK_SPARK_DISCORD_WEBHOOK_URL=

# Development & Testing Settings
# Enable development mode features
AUTOMAGIK_SPARK_DEV_MODE=false
# Enable hot reload for development
AUTOMAGIK_SPARK_HOT_RELOAD=false
# Test environment database (SQLite for testing)
AUTOMAGIK_SPARK_TEST_DATABASE_URL=sqlite+aiosqlite:///:memory:
# Enable debug endpoints
AUTOMAGIK_SPARK_DEBUG_ENDPOINTS=false

# Advanced Configuration (Optional)
# Custom worker names for multi-instance deployments
AUTOMAGIK_SPARK_WORKER_NAME=spark-worker
# Custom queue names for task routing
AUTOMAGIK_SPARK_CUSTOM_QUEUES=celery,priority,batch
# Enable task routing based on workflow type
AUTOMAGIK_SPARK_ENABLE_TASK_ROUTING=false

# Resource limits per workflow execution
AUTOMAGIK_SPARK_WORKFLOW_MEMORY_LIMIT=512
AUTOMAGIK_SPARK_WORKFLOW_CPU_LIMIT=1.0

# Network & Infrastructure (Production)
# Load balancer and proxy settings
AUTOMAGIK_SPARK_BEHIND_PROXY=false
AUTOMAGIK_SPARK_PROXY_HEADERS=true
# SSL/TLS configuration
AUTOMAGIK_SPARK_SSL_ENABLED=false
AUTOMAGIK_SPARK_SSL_CERT_PATH=
AUTOMAGIK_SPARK_SSL_KEY_PATH=

# =================================================================
# üåê Automagik Omni Configuration (REQUIRED)
# =================================================================

# API Server Configuration - Core service endpoints
AUTOMAGIK_OMNI_API_HOST=0.0.0.0
AUTOMAGIK_OMNI_API_PORT=8882  
AUTOMAGIK_OMNI_API_KEY=namastex888

# Environment Configuration
AUTOMAGIK_OMNI_ENV=production

# Database Configuration
# SQLite Configuration (Default - Recommended for development)
SQLITE_DB_PATH=./data/omnihub.db

# PostgreSQL Configuration (Optional - for production scale)
DATABASE_URL=
# Example: DATABASE_URL="postgresql://user:password@localhost:5432/omnihub"

# Database Pool Settings (PostgreSQL only)
AUTOMAGIK_OMNI_DB_POOL_MIN=5
AUTOMAGIK_OMNI_DB_POOL_MAX=20
AUTOMAGIK_OMNI_DB_TIMEOUT=30

# Logging Configuration
# Log Level Configuration
LOG_LEVEL=INFO
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL

# Log Verbosity and Output
LOG_VERBOSITY=short
# Options: short, full

# File Logging Configuration  
LOG_FOLDER=
# Leave empty to disable file logging, set path to enable
# Example: LOG_FOLDER="./logs"

# Advanced Logging Settings
AUTOMAGIK_OMNI_LOG_TO_FILE=false
AUTOMAGIK_OMNI_LOG_FILE_PATH=omnihub.log
AUTOMAGIK_OMNI_LOG_DIRECTORY=./logs
AUTOMAGIK_OMNI_LOG_ROTATION=true
AUTOMAGIK_OMNI_LOG_MAX_SIZE=10MB
AUTOMAGIK_OMNI_LOG_BACKUP_COUNT=5

# Agent API Integration (CRITICAL)
# Agent API Configuration - Required for omni-hub functionality
AGENT_API_URL=http://localhost:8881
AGENT_API_KEY=namastex888
AGENT_API_TIMEOUT=60

# Default Agent Configuration
DEFAULT_AGENT_NAME=
# Leave empty to use API default, or specify agent name like "customer-service"

# Agent Performance Settings
AUTOMAGIK_OMNI_AGENT_MAX_CONCURRENT=10
AUTOMAGIK_OMNI_AGENT_RETRY_ATTEMPTS=3
AUTOMAGIK_OMNI_AGENT_RETRY_DELAY=2

# Tracing Configuration
# Message Tracing - Monitor all message flows
ENABLE_TRACING=true
TRACE_RETENTION_DAYS=30
TRACE_MAX_PAYLOAD_SIZE=1048576
# Max payload size in bytes (1MB default)

# Sensitive Data Handling
TRACE_INCLUDE_SENSITIVE=false
# Set to "true" only in development - NEVER in production

# Advanced Tracing Settings
AUTOMAGIK_OMNI_TRACE_BATCH_SIZE=100
AUTOMAGIK_OMNI_TRACE_FLUSH_INTERVAL=60
AUTOMAGIK_OMNI_TRACE_COMPRESSION=true

# WhatsApp Integration via Evolution API
WHATSAPP_INSTANCE=
# Your WhatsApp instance identifier

# WhatsApp Behavior Settings
SESSION_ID_PREFIX=
# Optional prefix for session IDs

# API Protocol Settings
API_USE_HTTPS=false
# Set to "true" if Evolution API uses HTTPS

# Media Handling Configuration
USE_BASE64_MEDIA=false
# Set to "true" to encode media as base64

# Advanced WhatsApp Settings
TYPING_INDICATOR_DURATION=10
# Duration in seconds for typing indicator

SAVE_WEBHOOK_DEBUG=false
# Set to "true" to save webhook payloads for debugging

AUTOMAGIK_OMNI_MEDIA_DOWNLOAD_TIMEOUT=30
AUTOMAGIK_OMNI_MEDIA_MAX_SIZE=50MB
AUTOMAGIK_OMNI_WEBHOOK_TIMEOUT=15

# RabbitMQ Configuration (Advanced)
# RabbitMQ Connection (Optional - HTTP webhooks preferred)
RABBITMQ_URI=
# Example: "amqp://user:password@localhost:5672/vhost"

# RabbitMQ Exchange Configuration
RABBITMQ_EXCHANGE=evolution_exchange

# Connection Pool Settings
AUTOMAGIK_OMNI_RABBITMQ_POOL_SIZE=10
AUTOMAGIK_OMNI_RABBITMQ_MAX_OVERFLOW=20
AUTOMAGIK_OMNI_RABBITMQ_HEARTBEAT=30
AUTOMAGIK_OMNI_RABBITMQ_CONNECTION_ATTEMPTS=3
AUTOMAGIK_OMNI_RABBITMQ_RETRY_DELAY=5

# Advanced Settings
# Performance Tuning
AUTOMAGIK_OMNI_MAX_CONCURRENT_REQUESTS=50
AUTOMAGIK_OMNI_REQUEST_TIMEOUT=30
AUTOMAGIK_OMNI_UVICORN_WORKERS=4
AUTOMAGIK_OMNI_UVICORN_LIMIT_CONCURRENCY=100
AUTOMAGIK_OMNI_UVICORN_LIMIT_MAX_REQUESTS=1000

# Memory Management
AUTOMAGIK_OMNI_MAX_MEMORY_USAGE=2GB
AUTOMAGIK_OMNI_MEMORY_CHECK_INTERVAL=300

# Security Settings
AUTOMAGIK_OMNI_CORS_ORIGINS=http://localhost:3000,http://localhost:8888
AUTOMAGIK_OMNI_RATE_LIMIT_PER_MINUTE=1000
AUTOMAGIK_OMNI_ENABLE_SSL=false
AUTOMAGIK_OMNI_SSL_CERT_PATH=
AUTOMAGIK_OMNI_SSL_KEY_PATH=

# Session Management
AUTOMAGIK_OMNI_SESSION_TIMEOUT=3600
# Session timeout in seconds (1 hour default)

AUTOMAGIK_OMNI_MAX_SESSIONS_PER_USER=10
AUTOMAGIK_OMNI_SESSION_CLEANUP_INTERVAL=300

# Monitoring and Health Checks
AUTOMAGIK_OMNI_HEALTH_CHECK_INTERVAL=60
AUTOMAGIK_OMNI_METRICS_ENABLED=true
AUTOMAGIK_OMNI_METRICS_PORT=9090

# Development Settings
AUTOMAGIK_OMNI_DEBUG_MODE=false
AUTOMAGIK_OMNI_HOT_RELOAD=false
AUTOMAGIK_OMNI_PROFILING_ENABLED=false

# Integration Compatibility
# Webhook Processing
AUTOMAGIK_OMNI_WEBHOOK_QUEUE_SIZE=1000
AUTOMAGIK_OMNI_WEBHOOK_WORKERS=5
AUTOMAGIK_OMNI_WEBHOOK_RETRY_ATTEMPTS=3

# Message Processing Pipeline
AUTOMAGIK_OMNI_MESSAGE_QUEUE_SIZE=5000
AUTOMAGIK_OMNI_MESSAGE_PROCESSING_TIMEOUT=30
AUTOMAGIK_OMNI_MESSAGE_BATCH_SIZE=50

# =================================================================
# üõ†Ô∏è Automagik Tools Configuration (REQUIRED)
# =================================================================

# Server Configuration
HOST=127.0.0.1
PORT=8884
# Note: Systemd service runs dual transports on:
# - SSE: PORT (8884) 
# - HTTP: PORT+1 (8885)

# Smart Mode (enables intelligent tool selection)
ASK_SMART_MODE=true

# Transport Detection (automatically detected, usually stdio for Claude Desktop)
MCP_TRANSPORT=stdio

# Automagik Tool Configuration
# Unified configuration for all Automagik-related tools
AUTOMAGIK_API_KEY=your-api-key-here
AUTOMAGIK_BASE_URL=https://api.example.com
AUTOMAGIK_TIMEOUT=30
# Enable markdown enhancement (AI-powered formatting of responses)
# Set to false to get raw JSON responses for better integration with Genie
AUTOMAGIK_ENABLE_MARKDOWN=true
AUTOMAGIK_OPENAPI_URL=http://localhost:8881/api/v1/openapi.json

# AutoMagik Workflows Tool Configuration
# Smart Claude workflow orchestration with real-time progress tracking
AUTOMAGIK_WORKFLOWS_API_KEY=your-api-key-here
AUTOMAGIK_WORKFLOWS_BASE_URL=http://localhost:28881
AUTOMAGIK_WORKFLOWS_TIMEOUT=7200
AUTOMAGIK_WORKFLOWS_POLLING_INTERVAL=8
AUTOMAGIK_WORKFLOWS_MAX_RETRIES=3

# Genie Tool Configuration
# Generic MCP tool orchestrator with persistent memory
# NOTE: Genie requires at least one MCP server to be configured (see MCP Server Configurations below)
GENIE_MODEL=gpt-4.1
GENIE_MEMORY_DB=genie_memory.db
GENIE_STORAGE_DB=genie_storage.db
GENIE_SESSION_ID=global_genie_session
GENIE_HISTORY_RUNS=3
GENIE_SHOW_TOOL_CALLS=true

# Genie MCP Server Management
GENIE_MCP_CLEANUP_TIMEOUT=2.0
GENIE_SSE_CLEANUP_DELAY=0.2
GENIE_AGGRESSIVE_CLEANUP=true

# MCP Server Configurations - Choose one of these methods:
# Method 1: JSON configuration (for multiple servers)
# GENIE_MCP_CONFIGS={"filesystem": {"command": "npx", "args": ["-y", "@modelcontextprotocol/server-filesystem", "/tmp"]}}

# Method 2: Individual server configs (uncomment to use)
# Example: Connect Genie to Automagik agents - uses unified AUTOMAGIK_* variables above

# Wait Utility Tool Configuration
# Smart timing functions for agent workflows
WAIT_MAX_DURATION=3600
WAIT_DEFAULT_PROGRESS_INTERVAL=1.0

# Spark API Configuration
# Spark - Automated workflow management with LangFlow integration
SPARK_API_KEY=namastex888
SPARK_BASE_URL=http://localhost:8883

# AI Processing Configuration
# JSON Markdown Processor settings for enhanced AI responses
JSON_PROCESSOR_MODEL=gpt-4.1-nano
JSON_PROCESSOR_MAX_TOKENS=2000
JSON_PROCESSOR_TEMPERATURE=0.1

# Development & Testing
# Transport mode override (automatically detected in most cases)
AUTOMAGIK_TRANSPORT=stdio

# FastMCP logging level for development
FASTMCP_LOG_LEVEL=ERROR

# FastMCP resource prefix format (path or protocol)
FASTMCP_RESOURCE_PREFIX_FORMAT=path

# =================================================================
# üé® Automagik UI Configuration (REQUIRED)
# =================================================================

# Node.js and Next.js configuration
NODE_ENV=development
AUTOMAGIK_UI_PORT=8888
NEXT_TELEMETRY_DISABLED=1

# Application URLs
NEXT_PUBLIC_APP_URL=http://localhost:8888

# Database Configuration (Frontend Local Storage)
# Local SQLite database for frontend data caching
DATABASE_PATH=./data/automagik.db
DB_PATH=./data/automagik.db

# Database encryption key for sensitive settings storage
ENCRYPTION_KEY=automagik-development-key-2024

# Core Automagik Service Configuration (REQUIRED)
# Primary Automagik API - Workflow Engine
AUTOMAGIK_API_URL=http://localhost:8881
AUTOMAGIK_API_KEY=namastex888
AUTOMAGIK_ENABLED=true

# Client-side accessible versions for browser requests
NEXT_PUBLIC_AUTOMAGIK_URL=http://localhost:8881
NEXT_PUBLIC_AUTOMAGIK_API_KEY=namastex888

# Omni Service Configuration (Multi-Channel AI)
# Omni API - WhatsApp, Slack, Discord integrations  
OMNI_API_URL=http://localhost:8882
OMNI_API_KEY=namastex888
OMNI_ENABLED=true

# Client-side accessible versions
NEXT_PUBLIC_OMNI_URL=http://localhost:8882
NEXT_PUBLIC_OMNI_API_KEY=namastex888

# Development settings for Omni
OMNI_MOCK_DATA=false
NEXT_PUBLIC_OMNI_MOCK_DATA=false

# Spark Service Configuration (Workflow Automation)
# Spark API - Automation and scheduling engine
SPARK_API_URL=http://localhost:8883
SPARK_API_KEY=namastex888
SPARK_ENABLED=true

# Client-side accessible versions  
NEXT_PUBLIC_SPARK_URL=http://localhost:8883
NEXT_PUBLIC_SPARK_API_KEY=namastex888

# Development settings for Spark
NEXT_PUBLIC_SPARK_MOCK_DATA=false

# Frontend-Specific Settings
# Loading and transition settings
NEXT_PUBLIC_LOADING_SPLASH_TIME=500

# Global development features
NEXT_PUBLIC_MOCK_DATA=false
DEBUG=false

# Health Check & Monitoring Configuration
# Health check system settings
HEALTH_CHECKS_ENABLED=true
HEALTH_CHECK_TIMEOUT=5000

# API request timeouts (milliseconds)
API_REQUEST_TIMEOUT=15000
INSTANCE_CREATION_TIMEOUT=30000

# Performance & Concurrency Settings
# Background sync configuration
SYNC_INTERVAL_MS=30000
DETAIL_POLL_INTERVAL_MS=2000
MAX_CONCURRENT_SYNCS=5
RETRY_DELAY_MS=1000
MAX_RETRY_DELAY_MS=30000

# Security Configuration
# CORS and security headers (production)
ALLOWED_ORIGINS=http://localhost:8888,http://localhost:3000
CSRF_PROTECTION=true

# Analytics & Tracking (Optional)
# Application analytics
ENABLE_ANALYTICS=false
ANALYTICS_ENDPOINT=

# Error tracking
SENTRY_DSN=
ENABLE_ERROR_TRACKING=false

# Build & Development Configuration
# Next.js build optimizations
NEXT_PHASE=
NEXT_RUNTIME=

# Bundle analysis
ANALYZE_BUNDLE=false

# Internationalization (Future)
# Language settings
DEFAULT_LOCALE=en
SUPPORTED_LOCALES=en,es,pt

# PWA Configuration (Progressive Web App)
# PWA manifest settings
PWA_ENABLED=false
PWA_NAME=Automagik UI
PWA_SHORT_NAME=Automagik

# Feature Flags
# Experimental features
ENABLE_BETA_FEATURES=false
ENABLE_DARK_MODE=true
ENABLE_ANIMATIONS=true

# Suite-specific feature flags
ENABLE_WORKFLOWS_SUITE=true
ENABLE_AGENTS_SUITE=true
ENABLE_OMNI_SUITE=true
ENABLE_SPARK_SUITE=true
ENABLE_TOOLS_SUITE=false

# Development Tools & Debugging
# Development server settings
FAST_REFRESH=true
TURBO_MODE=false

# Debug logging
VERBOSE_LOGGING=false
LOG_API_REQUESTS=false
LOG_SYNC_OPERATIONS=false

# Performance Monitoring (Optional)
# Performance tracking
ENABLE_PERFORMANCE_MONITORING=false
PERFORMANCE_SAMPLE_RATE=0.1

# Web vitals tracking
TRACK_WEB_VITALS=false

# WebSocket Configuration (Real-time Updates)
# Real-time sync settings
WEBSOCKET_ENABLED=false
WEBSOCKET_URL=ws://localhost:8889
WEBSOCKET_RETRY_INTERVAL=5000

# UI Customization (Optional)
# Theme settings
DEFAULT_THEME=dark
CUSTOM_BRAND_COLORS=false
ENABLE_THEME_SWITCHING=true

# Layout preferences
DEFAULT_LAYOUT=standard
ENABLE_SIDEBAR_COLLAPSE=true

# =================================================================
# ü§ñ AI Provider Keys (At least OPENAI_API_KEY required)
# =================================================================

# OpenAI Configuration (Primary AI Provider)
OPENAI_API_KEY=
OPENAI_ORG_ID=

# Anthropic Claude Configuration (Recommended Secondary)
ANTHROPIC_API_KEY=

# Google AI Configuration
GEMINI_API_KEY=

# =================================================================
# üîó External Service Integrations (Optional)
# =================================================================

# Web Search APIs (Optional - for enhanced agent capabilities)
SERPER_API_KEY=
TAVILY_API_KEY=

# WhatsApp Integration (Evolution API - Stan Agent)
EVOLUTION_API_KEY=
EVOLUTION_API_URL=http://localhost:8080
EVOLUTION_INSTANCE=agent
DEFAULT_EVOLUTION_INSTANCE=default
DEFAULT_WHATSAPP_NUMBER=5511999999999@s.whatsapp.net

# Notion Integration (General Tool Integration)
NOTION_TOKEN=

# Discord Integration (Discord Agent)
DISCORD_BOT_TOKEN=

# Airtable Integration (Sofia Agent Task Management)
AIRTABLE_TOKEN=
AIRTABLE_DEFAULT_BASE_ID=
AIRTABLE_TEST_BASE_ID=
AIRTABLE_TEST_TABLE=

# BlackPearl ERP Integration (Stan Backoffice Agent)
BLACKPEARL_TOKEN=
BLACKPEARL_API_URL=
BLACKPEARL_DB_URI=

# Omie ERP Integration (Stan Backoffice Agent)
OMIE_APP_KEY=
OMIE_APP_SECRET=

# Flashed Educational Platform (Flashinho Agents)
FLASHED_API_KEY=
FLASHED_API_URL=

# Google Drive Integration (Placeholder - Mock Implementation)
GOOGLE_DRIVE_TOKEN=

# Meeting Bot Integration (Sofia Agent)
MEETING_BOT_URL=

# Linear API Integration
LINEAR_API_TOKEN=

# Evolution API (WhatsApp Integration)
EVOLUTION_API_KEY=
EVOLUTION_API_BASE_URL=http://localhost:8080

# Discord API Integration
DISCORD_TOKEN=

# Custom API Example
YOUR_API_NAME_API_KEY=
YOUR_API_NAME_BASE_URL=https://api.example.com

# =================================================================
# üîÑ Infrastructure & Docker Configuration
# =================================================================

# Database Configuration (Auto-configured for Docker)
# These are automatically set for Docker deployment
# Only modify if using external databases

# AM Agents Labs Database Configuration
# Database type: sqlite or postgresql
AUTOMAGIK_DATABASE_TYPE=sqlite

# SQLite Configuration (default)
AUTOMAGIK_SQLITE_DATABASE_PATH=./data/automagik.db

# PostgreSQL Configuration (when AUTOMAGIK_DATABASE_TYPE="postgresql")
AUTOMAGIK_DATABASE_URL=postgresql://postgres:postgres@localhost:5401/automagik
AUTOMAGIK_POSTGRES_POOL_MIN=10
AUTOMAGIK_POSTGRES_POOL_MAX=25

# Automagik Spark Database
AUTOMAGIK_SPARK_DATABASE_URL=postgresql://postgres:postgres@localhost:5402/automagik_spark
AUTOMAGIK_SPARK_DB_HOST=localhost
AUTOMAGIK_SPARK_DB_PORT=5402
AUTOMAGIK_SPARK_DB_NAME=automagik_spark
AUTOMAGIK_SPARK_DB_USER=postgres
AUTOMAGIK_SPARK_DB_PASSWORD=postgres

# Evolution API Database
EVOLUTION_DATABASE_URL=postgresql://postgres:postgres@localhost:5403/evolution_api
EVOLUTION_DB_HOST=localhost
EVOLUTION_DB_PORT=5403
EVOLUTION_DB_NAME=evolution_api
EVOLUTION_DB_USER=postgres
EVOLUTION_DB_PASSWORD=postgres

# Redis Configuration (Auto-configured for Docker)
# Automagik Spark Redis
AUTOMAGIK_SPARK_REDIS_URL=redis://localhost:5412
AUTOMAGIK_SPARK_REDIS_HOST=localhost
AUTOMAGIK_SPARK_REDIS_PORT=5412

# Evolution API Redis
EVOLUTION_REDIS_URL=redis://localhost:5413
EVOLUTION_REDIS_HOST=localhost
EVOLUTION_REDIS_PORT=5413

# Service URLs (Auto-configured for Docker)
# Automagik Spark Configuration
AUTOMAGIK_SPARK_REMOTE_URL=http://localhost:8883
AUTOMAGIK_SPARK_API_CORS=http://localhost:3000,http://localhost:8883

# Evolution API Configuration
EVOLUTION_API_URL=http://localhost:8080

# Langflow Configuration
LANGFLOW_API_URL=http://localhost:17860
LANGFLOW_API_KEY=

# Port Configuration
AUTOMAGIK_API_PORT=8881
AUTOMAGIK_SPARK_API_PORT=8883
AUTOMAGIK_TOOLS_PORT=8885
AUTOMAGIK_OMNI_API_PORT=8882
AUTOMAGIK_UI_PORT=8888
EVOLUTION_API_PORT=8080

# Celery Configuration (Automagik Spark)
# Celery Broker and Backend (Uses Automagik Spark Redis)
AUTOMAGIK_SPARK_CELERY_BROKER_URL=redis://localhost:5412/0
AUTOMAGIK_SPARK_CELERY_RESULT_BACKEND=redis://localhost:5412/0

# Celery Settings
AUTOMAGIK_SPARK_CELERY_TASK_SERIALIZER=json
AUTOMAGIK_SPARK_CELERY_RESULT_SERIALIZER=json
AUTOMAGIK_SPARK_CELERY_ACCEPT_CONTENT=["json"]
AUTOMAGIK_SPARK_CELERY_WORKER_PREFETCH_MULTIPLIER=1
AUTOMAGIK_SPARK_CELERY_TASK_TRACK_STARTED=true
AUTOMAGIK_SPARK_CELERY_BROKER_CONNECTION_RETRY_ON_STARTUP=true
AUTOMAGIK_SPARK_CELERY_BEAT_MAX_LOOP_INTERVAL=5

# Development-specific Celery settings
AUTOMAGIK_SPARK_CELERY_TASK_ALWAYS_EAGER=false
AUTOMAGIK_SPARK_CELERY_TASK_EAGER_PROPAGATES=true

# Publishing Configuration (Development Only)
# Only needed if you're contributing to automagik-tools development
# Get your tokens from:
# - PyPI: https://pypi.org/manage/account/token/
# - TestPyPI: https://test.pypi.org/manage/account/token/
PYPI_TOKEN=
TESTPYPI_TOKEN=

# =================================================================
# üìã Usage Instructions
# =================================================================
# 1. Copy this file to .env: cp .env.example .env
# 2. Fill in your API keys and configuration values
# 3. Run the installer: ./interactive.sh
# 4. Values in .env will be automatically loaded, skipping interactive prompts
# 5. Individual repository .env files will be generated from these values
#
# Required for basic functionality:
# - OPENAI_API_KEY or ANTHROPIC_API_KEY (at least one AI provider)
#
# Optional but recommended:
# - ANTHROPIC_API_KEY (for Claude models)
# - SERPER_API_KEY or TAVILY_API_KEY (for web search)
# - EVOLUTION_API_KEY (for WhatsApp integration)
#
# All other values have sensible defaults for Docker deployment
#
# Multi-tenancy: Each instance can have different configurations
# Security: Never commit .env files with real API keys to version control
# Performance: Adjust concurrent request limits based on your server capacity
# =================================================================

# =================================================================
# üîÑ Model Override Settings (Optional)
# =================================================================
# Override settings for specific models using pattern:
# {MODEL_NAME}_TEMPERATURE=0.7
# {MODEL_NAME}_MAX_TOKENS=4000
# Example: GPT_4_TEMPERATURE=0.5