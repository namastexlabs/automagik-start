# =================================================================
# üîÆ Automagik Suite - Environment Configuration
# =================================================================
# Copy this file to .env and fill in your actual values
# All values in this file will be loaded automatically during installation
# If a value exists in .env, interactive collection will be skipped for that key

# =================================================================
# ü§ñ AI Service Configuration
# =================================================================

# OpenAI Configuration (Primary AI Provider)
OPENAI_API_KEY="sk-your-openai-api-key-here"
OPENAI_ORG_ID=""

# Anthropic Claude Configuration (Recommended Secondary)
ANTHROPIC_API_KEY="sk-ant-api03-your-anthropic-key-here"

# Google AI Configuration
GEMINI_API_KEY=""


# =================================================================
# üóÑÔ∏è Database Configuration (Auto-configured for Docker)
# =================================================================
# These are automatically set for Docker deployment
# Only modify if using external databases

# AM Agents Labs Database
AM_AGENTS_DATABASE_URL="postgresql://postgres:postgres@localhost:5401/am_agents_labs"
AM_AGENTS_DB_HOST="localhost"
AM_AGENTS_DB_PORT="5401"
AM_AGENTS_DB_NAME="am_agents_labs"
AM_AGENTS_DB_USER="postgres"
AM_AGENTS_DB_PASSWORD="postgres"

# Automagik Spark Database
AUTOMAGIK_SPARK_DATABASE_URL="postgresql://automagik:automagik@localhost:5402/automagik"
AUTOMAGIK_SPARK_DB_HOST="localhost"
AUTOMAGIK_SPARK_DB_PORT="5402"
AUTOMAGIK_SPARK_DB_NAME="automagik"
AUTOMAGIK_SPARK_DB_USER="automagik"
AUTOMAGIK_SPARK_DB_PASSWORD="automagik"

# Evolution API Database
EVOLUTION_DATABASE_URL="postgresql://postgres:postgres@localhost:5403/evolution_api"
EVOLUTION_DB_HOST="localhost"
EVOLUTION_DB_PORT="5403"
EVOLUTION_DB_NAME="evolution_api"
EVOLUTION_DB_USER="postgres"
EVOLUTION_DB_PASSWORD="postgres"

# =================================================================
# üîó Redis Configuration (Auto-configured for Docker)
# =================================================================

# Automagik Spark Redis
SPARK_REDIS_URL="redis://localhost:5412"
SPARK_REDIS_HOST="localhost"
SPARK_REDIS_PORT="5412"
SPARK_CELERY_BROKER_URL="redis://localhost:5412"
SPARK_CELERY_RESULT_BACKEND="redis://localhost:5412"

# Evolution API Redis
EVOLUTION_REDIS_URL="redis://localhost:5413"
EVOLUTION_REDIS_HOST="localhost"
EVOLUTION_REDIS_PORT="5413"

# =================================================================
# üåê Service URLs (Auto-configured for Docker)
# =================================================================

# Automagik Spark Configuration
AUTOMAGIK_REMOTE_URL="http://localhost:8883"
AUTOMAGIK_API_HOST="localhost"
AUTOMAGIK_API_PORT="8883"
AUTOMAGIK_API_CORS="http://localhost:3000,http://localhost:8883"

# Langflow Configuration
LANGFLOW_API_URL="http://localhost:17860"
LANGFLOW_API_KEY=""

# =================================================================
# üéõÔ∏è Application Settings
# =================================================================

# Environment Configuration
NODE_ENV="production"
PYTHON_ENV="production"
AM_ENV="production"

AUTOMAGIK_SPARK_ENV="production"

# Automagik Agents
AUTOMAGIK_AGENTS_PORT="8881"

# Automagik Spark
AUTOMAGIK_SPARK_API_PORT="8883"
AUTOMAGIK_SPARK_API_HOST="0.0.0.0"
AUTOMAGIK_SPARK_API_KEY="namastex888" 

# Automagik Tools
AUTOMAGIK_TOOLS_PORT="8884"

# Automagik Omni 
AUTOMAGIK_OMNI_API_PORT="8882"
AUTOMAGIK_OMNI_API_HOST="0.0.0.0"
AUTOMAGIK_OMNI_API_KEY="namastex888"

# Automagik UI
AUTOMAGIK_UI_PORT="8888"

# Timezone Configuration
AUTOMAGIK_TIMEZONE="UTC"

# Logging Configuration
LOG_LEVEL="info"
AM_LOG_LEVEL="INFO"
AM_VERBOSE_LOGGING="false"
AM_LOG_TO_FILE="false"
AM_LOG_FILE_PATH="debug.log"
AUTOMAGIK_LOG_LEVEL="DEBUG"
AUTOMAGIK_WORKER_LOG="logs/worker.log"

# Performance Configuration
LLM_MAX_CONCURRENT_REQUESTS="15"
LLM_RETRY_ATTEMPTS="3"
UVICORN_LIMIT_CONCURRENCY="100"
UVICORN_LIMIT_MAX_REQUESTS="1000"

# Agent Configuration
AM_AGENTS_NAMES=""

# =================================================================
# üîß Development Settings (Optional)
# =================================================================

# Debug flags
DEBUG="false"
VERBOSE_LOGGING="false"


# Python Configuration
PYTHONWARNINGS="ignore"

# =================================================================
# üîó External Service Integrations
# =================================================================

# Google Drive Integration
GOOGLE_DRIVE_TOKEN=""

# =================================================================
# üî• Logging and Monitoring
# =================================================================

# Logfire Configuration
LOGFIRE_TOKEN=""
LOGFIRE_IGNORE_NO_CONFIG="true"

# =================================================================
# üß† Claude Code Configuration
# =================================================================

# Local mode workspace configuration
CLAUDE_LOCAL_WORKSPACE="/tmp/claude-workspace"
CLAUDE_LOCAL_CLEANUP="true"

# Claude Code API endpoint (if running separately)
CLAUDE_CODE_API_URL="http://localhost:8881"

# =================================================================
# üîÑ Celery Configuration (Automagik Spark)
# =================================================================

# Celery Broker and Backend (Uses Automagik Spark Redis)
AUTOMAGIK_SPARK_CELERY_BROKER_URL="redis://localhost:5412/0"
AUTOMAGIK_SPARK_CELERY_RESULT_BACKEND="redis://localhost:5412/0"

# Celery Settings
AUTOMAGIK_SPARK_CELERY_TASK_SERIALIZER="json"
AUTOMAGIK_SPARK_CELERY_RESULT_SERIALIZER="json"
AUTOMAGIK_SPARK_CELERY_ACCEPT_CONTENT="[\"json\"]"
AUTOMAGIK_SPARK_CELERY_WORKER_PREFETCH_MULTIPLIER="1"
AUTOMAGIK_SPARK_CELERY_TASK_TRACK_STARTED="true"
AUTOMAGIK_SPARK_CELERY_BROKER_CONNECTION_RETRY_ON_STARTUP="true"
AUTOMAGIK_SPARK_CELERY_BEAT_MAX_LOOP_INTERVAL="5"

# Development-specific Celery settings
AUTOMAGIK_SPARK_CELERY_TASK_ALWAYS_EAGER="false"
AUTOMAGIK_SPARK_CELERY_TASK_EAGER_PROPAGATES="true"

# =================================================================
# üìù Usage Instructions
# =================================================================
# 1. Copy this file to .env: cp .env.example .env
# 2. Fill in your API keys and configuration values
# 3. Run the installer: ./interactive.sh
# 4. Values in .env will be automatically loaded, skipping interactive prompts
# 5. Individual repository .env files will be generated from these values
#
# Required for basic functionality:
# - OPENAI_API_KEY or ANTHROPIC_API_KEY (at least one AI provider)
#
# Optional but recommended:
# - ANTHROPIC_API_KEY (for Claude models)
# - SERPER_API_KEY or TAVILY_API_KEY (for web search)
# - EVOLUTION_API_KEY (for WhatsApp integration)
#
# All other values have sensible defaults for Docker deployment
# =================================================================