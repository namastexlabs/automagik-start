# =================================================================
# üîÆ Automagik Suite - Environment Configuration
# =================================================================
# Copy this file to .env and fill in your actual values
# All values in this file will be loaded automatically during installation
# If a value exists in .env, interactive collection will be skipped for that key

# =================================================================
# ü§ñ AI Service Configuration
# =================================================================

# OpenAI Configuration (Primary AI Provider)
OPENAI_API_KEY="sk-your-openai-api-key-here"
OPENAI_ORG_ID=""  # Optional: Your OpenAI organization ID

# Anthropic Claude Configuration (Recommended Secondary)
ANTHROPIC_API_KEY="sk-ant-api03-your-anthropic-key-here"

# Google AI Configuration
GEMINI_API_KEY=""  # Google Gemini API key

# Discord Integration
DISCORD_BOT_TOKEN=""     # Discord bot token

# Meeting Bot Configuration
MEETING_BOT_URL="https://meeting-webhook.namastex.ai"  # Meeting bot webhook URL

# AM Agents Labs API Configuration
AM_API_KEY="namastex888"  # AM Agents Labs API key
API_KEY="namastex888"     # General API key

# Automagik Spark API Configuration
SPARK_API_KEY="namastex888"  # Automagik Spark API key
SPARK_ENCRYPTION_KEY="eW91ci10ZXN0LWVuYdaswqdab24ta2V5LS0tLS0tLS0="  # Automagik encryption key

# =================================================================
# üóÑÔ∏è Database Configuration (Auto-configured for Docker)
# =================================================================
# These are automatically set for Docker deployment
# Only modify if using external databases

# AM Agents Labs Database
AM_AGENTS_DATABASE_URL="postgresql://postgres:postgres@localhost:5401/am_agents_labs"
AM_AGENTS_DB_HOST="localhost"
AM_AGENTS_DB_PORT="5401"
AM_AGENTS_DB_NAME="am_agents_labs"
AM_AGENTS_DB_USER="postgres"
AM_AGENTS_DB_PASSWORD="postgres"

# Automagik Spark Database
SPARK_DATABASE_URL="postgresql://automagik:automagik@localhost:5402/automagik"
SPARK_DB_HOST="localhost"
SPARK_DB_PORT="5402"
SPARK_DB_NAME="automagik"
SPARK_DB_USER="automagik"
SPARK_DB_PASSWORD="automagik"

# Evolution API Database
EVOLUTION_DATABASE_URL="postgresql://postgres:postgres@localhost:5403/evolution_api"
EVOLUTION_DB_HOST="localhost"
EVOLUTION_DB_PORT="5403"
EVOLUTION_DB_NAME="evolution_api"
EVOLUTION_DB_USER="postgres"
EVOLUTION_DB_PASSWORD="postgres"

# =================================================================
# üîó Redis Configuration (Auto-configured for Docker)
# =================================================================

# AM Agents Labs Redis
AM_AGENTS_REDIS_URL="redis://localhost:5411"
AM_AGENTS_REDIS_HOST="localhost"
AM_AGENTS_REDIS_PORT="5411"

# Automagik Spark Redis
SPARK_REDIS_URL="redis://localhost:5412"
SPARK_REDIS_HOST="localhost"
SPARK_REDIS_PORT="5412"
SPARK_CELERY_BROKER_URL="redis://localhost:5412"
SPARK_CELERY_RESULT_BACKEND="redis://localhost:5412"

# Evolution API Redis
EVOLUTION_REDIS_URL="redis://localhost:5413"
EVOLUTION_REDIS_HOST="localhost"
EVOLUTION_REDIS_PORT="5413"

# =================================================================
# üåê Service URLs (Auto-configured for Docker)
# =================================================================

# API Endpoints
AM_AGENTS_LABS_URL="http://localhost:8881"
AUTOMAGIK_SPARK_URL="http://localhost:8883"
AUTOMAGIK_TOOLS_SSE_URL="http://localhost:8884"
AUTOMAGIK_TOOLS_HTTP_URL="http://localhost:8885"
EVOLUTION_API_URL="http://localhost:9000"
AUTOMAGIK_OMNI_URL="http://localhost:8882"
AUTOMAGIK_UI_URL="http://localhost:8888"

# Automagik Spark Configuration
AUTOMAGIK_REMOTE_URL="http://localhost:8883"  # Public URL for Automagik API
AUTOMAGIK_API_HOST="localhost"  # Automagik API host
AUTOMAGIK_API_PORT="8883"       # Automagik API port
AUTOMAGIK_API_CORS="http://localhost:3000,http://localhost:8883"  # CORS settings

# Langflow Configuration
LANGFLOW_API_URL="http://localhost:17860"  # Langflow API URL
LANGFLOW_API_KEY=""  # Langflow API key

# =================================================================
# üéõÔ∏è Application Settings
# =================================================================

# Environment Configuration
NODE_ENV="production"
PYTHON_ENV="production"
AM_ENV="production"            # AM Agents Labs environment
AUTOMAGIK_ENV="production"     # Automagik Spark environment

# Host Configuration
HOST="0.0.0.0"
PORT="8888"  # Main UI port
AM_HOST="0.0.0.0"              # AM Agents Labs host
AM_PORT="8881"                 # AM Agents Labs port

# Timezone Configuration
AM_TIMEZONE="UTC"              # AM Agents Labs timezone
AUTOMAGIK_TIMEZONE="UTC"       # Automagik Spark timezone

# Logging Configuration
LOG_LEVEL="info"               # General log level
AM_LOG_LEVEL="INFO"            # AM Agents Labs log level
AM_VERBOSE_LOGGING="false"     # AM Agents Labs verbose logging
AM_LOG_TO_FILE="false"         # AM Agents Labs log to file
AM_LOG_FILE_PATH="debug.log"   # AM Agents Labs log file path
AUTOMAGIK_LOG_LEVEL="DEBUG"    # Automagik Spark log level
AUTOMAGIK_WORKER_LOG="logs/worker.log"  # Automagik Spark worker log

# Performance Configuration
LLM_MAX_CONCURRENT_REQUESTS="15"  # Max concurrent LLM requests
LLM_RETRY_ATTEMPTS="3"            # LLM retry attempts
UVICORN_LIMIT_CONCURRENCY="100"   # Uvicorn concurrency limit
UVICORN_LIMIT_MAX_REQUESTS="1000" # Uvicorn max requests

# Agent Configuration
AM_AGENTS_NAMES=""             # AM Agents names (comma-separated)

# =================================================================
# üîß Development Settings (Optional)
# =================================================================

# Debug flags
DEBUG="false"
VERBOSE_LOGGING="false"

# Development URLs (override above if needed)
# AM_AGENTS_LABS_URL="http://localhost:8881"
# AUTOMAGIK_SPARK_URL="http://localhost:8883"

# Python Configuration
PYTHONWARNINGS=""              # Python warnings configuration

# =================================================================
# üîó External Service Integrations
# =================================================================

# Notion Integration
NOTION_TOKEN=""                # Notion API token

# Airtable Integration
AIRTABLE_TOKEN=""              # Airtable API token
AIRTABLE_DEFAULT_BASE_ID=""    # Default Airtable base ID

# BlackPearl Integration
BLACKPEARL_TOKEN=""            # BlackPearl API token
BLACKPEARL_API_URL=""          # BlackPearl API URL
BLACKPEARL_DB_URI=""           # BlackPearl database URI

# Omie Integration
OMIE_TOKEN=""                  # Omie API token

# Google Drive Integration
GOOGLE_DRIVE_TOKEN=""          # Google Drive API token

# Flashed Integration          
FLASHED_API_KEY=""           # Flashed API key
FLASHED_API_URL=""             # Flashed API URL

# Supabase Integration
SUPABASE_URL=""                # Supabase project URL
SUPABASE_SERVICE_ROLE_KEY=""   # Supabase service role key

# Figma Integration
FIGMA_API_KEY=""               # Figma API key (for MCP integration)

# =================================================================
# üî• Logging and Monitoring
# =================================================================

# Logfire Configuration
LOGFIRE_TOKEN=""               # Logfire monitoring token
LOGFIRE_IGNORE_NO_CONFIG="true"  # Ignore Logfire config errors

# =================================================================
# üß† Claude Code Configuration
# =================================================================

# Local mode workspace configuration
CLAUDE_LOCAL_WORKSPACE="/tmp/claude-workspace"  # Claude workspace directory
CLAUDE_LOCAL_CLEANUP="true"    # Cleanup workspace on exit

# Claude Code API endpoint (if running separately)
CLAUDE_CODE_API_URL="http://localhost:8881"  # Claude Code API URL

# =================================================================
# üîÑ Celery Configuration (Automagik Spark)
# =================================================================

# Celery Broker and Backend
CELERY_BROKER_URL="redis://localhost:16379/0"     # Celery broker URL
CELERY_RESULT_BACKEND="redis://localhost:16379/0" # Celery result backend

# Celery Settings
CELERY_TASK_SERIALIZER="json"          # Task serializer
CELERY_RESULT_SERIALIZER="json"        # Result serializer
CELERY_ACCEPT_CONTENT="[\"json\"]"       # Accepted content types
CELERY_WORKER_PREFETCH_MULTIPLIER="1"   # Worker prefetch multiplier
CELERY_TASK_TRACK_STARTED="true"        # Track task start
CELERY_BROKER_CONNECTION_RETRY_ON_STARTUP="true"  # Retry on startup
CELERY_BEAT_MAX_LOOP_INTERVAL="5"       # Beat max loop interval

# Development-specific Celery settings
CELERY_TASK_ALWAYS_EAGER="false"        # Run tasks synchronously for debugging
CELERY_TASK_EAGER_PROPAGATES="true"     # Propagate exceptions in eager mode

# =================================================================
# üìù Usage Instructions
# =================================================================
# 1. Copy this file to .env: cp .env.example .env
# 2. Fill in your API keys and configuration values
# 3. Run the installer: ./interactive.sh
# 4. Values in .env will be automatically loaded, skipping interactive prompts
# 5. Individual repository .env files will be generated from these values
#
# Required for basic functionality:
# - OPENAI_API_KEY or ANTHROPIC_API_KEY (at least one AI provider)
#
# Optional but recommended:
# - ANTHROPIC_API_KEY (for Claude models)
# - SERPER_API_KEY or TAVILY_API_KEY (for web search)
# - EVOLUTION_API_KEY (for WhatsApp integration)
#
# All other values have sensible defaults for Docker deployment
# =================================================================