# =================================================================
# üîÆ Automagik Suite - Environment Configuration
# =================================================================
# Copy this file to .env and fill in your actual values
# All values in this file will be loaded automatically during installation
# If a value exists in .env, interactive collection will be skipped for that key

# =================================================================
# ü§ñ AI Service Configuration
# =================================================================

# OpenAI Configuration (Primary AI Provider)
OPENAI_API_KEY="sk-your-openai-api-key-here"
OPENAI_ORG_ID=""

# Anthropic Claude Configuration (Recommended Secondary)
ANTHROPIC_API_KEY="sk-ant-api03-your-anthropic-key-here"

# Google AI Configuration
GEMINI_API_KEY=""


# =================================================================
# üóÑÔ∏è Database Configuration (Auto-configured for Docker)
# =================================================================
# These are automatically set for Docker deployment
# Only modify if using external databases

# AM Agents Labs Database (Automagik)
AUTOMAGIK_DATABASE_URL="postgresql://postgres:postgres@localhost:5401/automagik"

# Automagik Spark Database
AUTOMAGIK_SPARK_DATABASE_URL="postgresql://postgres:postgres@localhost:5402/automagik_spark"
AUTOMAGIK_SPARK_DB_HOST="localhost"
AUTOMAGIK_SPARK_DB_PORT="5402"
AUTOMAGIK_SPARK_DB_NAME="automagik_spark"
AUTOMAGIK_SPARK_DB_USER="postgres"
AUTOMAGIK_SPARK_DB_PASSWORD="postgres"

# Evolution API Database
EVOLUTION_DATABASE_URL="postgresql://postgres:postgres@localhost:5403/evolution_api"
EVOLUTION_DB_HOST="localhost"
EVOLUTION_DB_PORT="5403"
EVOLUTION_DB_NAME="evolution_api"
EVOLUTION_DB_USER="postgres"
EVOLUTION_DB_PASSWORD="postgres"

# =================================================================
# üîó Redis Configuration (Auto-configured for Docker)
# =================================================================

# Automagik Spark Redis
AUTOMAGIK_SPARK_REDIS_URL="redis://localhost:5412"
AUTOMAGIK_SPARK_REDIS_HOST="localhost"
AUTOMAGIK_SPARK_REDIS_PORT="5412"

# Evolution API Redis
EVOLUTION_REDIS_URL="redis://localhost:5413"
EVOLUTION_REDIS_HOST="localhost"
EVOLUTION_REDIS_PORT="5413"

# =================================================================
# üåê Service URLs (Auto-configured for Docker)
# =================================================================

# Automagik Spark Configuration
AUTOMAGIK_SPARK_REMOTE_URL="http://localhost:8883"
AUTOMAGIK_SPARK_API_CORS="http://localhost:3000,http://localhost:8883"

# Evolution API Configuration
EVOLUTION_API_URL="http://localhost:8080"

# Langflow Configuration
LANGFLOW_API_URL="http://localhost:17860"
LANGFLOW_API_KEY=""

# =================================================================
# üéõÔ∏è Application Settings
# =================================================================

# Environment Configuration
NODE_ENV="production"
PYTHON_ENV="production"
AUTOMAGIK_ENV="production"

AUTOMAGIK_SPARK_ENV="production"

# Automagik (am-agents-labs)
AUTOMAGIK_API_PORT="8881"
AUTOMAGIK_API_HOST="0.0.0.0"
AUTOMAGIK_API_KEY="namastex888"

# Automagik Spark
AUTOMAGIK_SPARK_API_PORT="8883"
AUTOMAGIK_SPARK_API_HOST="0.0.0.0"
AUTOMAGIK_SPARK_API_KEY="namastex888" 

# Automagik Tools
AUTOMAGIK_TOOLS_PORT="8885"

# Automagik Omni 
AUTOMAGIK_OMNI_API_PORT="8882"
AUTOMAGIK_OMNI_API_HOST="0.0.0.0"
AUTOMAGIK_OMNI_API_KEY="namastex888"

# Automagik UI
AUTOMAGIK_UI_PORT="8888"

# Evolution API
EVOLUTION_API_PORT="8080"
EVOLUTION_API_KEY="namastex888"

# Logging Configuration
AUTOMAGIK_LOG_LEVEL="INFO"
AUTOMAGIK_VERBOSE_LOGGING="false"
AUTOMAGIK_LOG_TO_FILE="false"
AUTOMAGIK_LOG_FILE_PATH="debug.log"

# Timezone Configuration
AUTOMAGIK_TIMEZONE="UTC"

AUTOMAGIK_SPARK_LOG_LEVEL="DEBUG"
AUTOMAGIK_SPARK_WORKER_LOG="logs/worker.log"

# Performance Configuration
AUTOMAGIK_LLM_MAX_CONCURRENT_REQUESTS="15"
AUTOMAGIK_LLM_RETRY_ATTEMPTS="3"
AUTOMAGIK_UVICORN_LIMIT_CONCURRENCY="100"
AUTOMAGIK_UVICORN_LIMIT_MAX_REQUESTS="1000"

# Agent Configuration
AUTOMAGIK_AGENT_NAMES=""


# =================================================================
# üîó External Service Integrations
# =================================================================

# WhatsApp Integration (Evolution API - am-agents-labs)
EVOLUTION_API_KEY=""
EVOLUTION_API_URL=""
EVOLUTION_INSTANCE="agent"
DEFAULT_EVOLUTION_INSTANCE="default"
DEFAULT_WHATSAPP_NUMBER="5511999999999@s.whatsapp.net"

# Notion Integration (am-agents-labs)
NOTION_TOKEN=""

# Discord Integration (am-agents-labs)
DISCORD_BOT_TOKEN=""

# Airtable Integration (am-agents-labs)
AIRTABLE_TOKEN=""
AIRTABLE_DEFAULT_BASE_ID=""
AIRTABLE_TEST_BASE_ID=""
AIRTABLE_TEST_TABLE=""

# BlackPearl ERP Integration (am-agents-labs)
BLACKPEARL_TOKEN=""
BLACKPEARL_API_URL=""
BLACKPEARL_DB_URI=""

# Omie ERP Integration (am-agents-labs)
OMIE_APP_KEY=""
OMIE_APP_SECRET=""

# Flashed Educational Platform (am-agents-labs)
FLASHED_API_KEY=""
FLASHED_API_URL=""

# Google Drive Integration (am-agents-labs - placeholder)
GOOGLE_DRIVE_TOKEN=""

# Meeting Bot Integration (am-agents-labs)
MEETING_BOT_URL=""

# =================================================================
# üî• Logging and Monitoring
# =================================================================

# Logfire Configuration
AUTOMAGIK_LOGFIRE_TOKEN=""
AUTOMAGIK_LOGFIRE_IGNORE_NO_CONFIG="true"

# =================================================================
# üß† Claude Code Configuration
# =================================================================

# Local mode workspace configuration
AUTOMAGIK_CLAUDE_LOCAL_WORKSPACE="/tmp/claude-workspace"
AUTOMAGIK_CLAUDE_LOCAL_CLEANUP="true"

# Legacy: AUTOMAGIK_CLAUDE_CODE_API_URL removed (not used)

# =================================================================
# üîÑ Celery Configuration (Automagik Spark)
# =================================================================

# Celery Broker and Backend (Uses Automagik Spark Redis)
AUTOMAGIK_SPARK_CELERY_BROKER_URL="redis://localhost:5412/0"
AUTOMAGIK_SPARK_CELERY_RESULT_BACKEND="redis://localhost:5412/0"

# Celery Settings
AUTOMAGIK_SPARK_CELERY_TASK_SERIALIZER="json"
AUTOMAGIK_SPARK_CELERY_RESULT_SERIALIZER="json"
AUTOMAGIK_SPARK_CELERY_ACCEPT_CONTENT="[\"json\"]"
AUTOMAGIK_SPARK_CELERY_WORKER_PREFETCH_MULTIPLIER="1"
AUTOMAGIK_SPARK_CELERY_TASK_TRACK_STARTED="true"
AUTOMAGIK_SPARK_CELERY_BROKER_CONNECTION_RETRY_ON_STARTUP="true"
AUTOMAGIK_SPARK_CELERY_BEAT_MAX_LOOP_INTERVAL="5"

# Development-specific Celery settings
AUTOMAGIK_SPARK_CELERY_TASK_ALWAYS_EAGER="false"
AUTOMAGIK_SPARK_CELERY_TASK_EAGER_PROPAGATES="true"

# =================================================================
# üìù Usage Instructions
# =================================================================
# 1. Copy this file to .env: cp .env.example .env
# 2. Fill in your API keys and configuration values
# 3. Run the installer: ./interactive.sh
# 4. Values in .env will be automatically loaded, skipping interactive prompts
# 5. Individual repository .env files will be generated from these values
#
# Required for basic functionality:
# - OPENAI_API_KEY or ANTHROPIC_API_KEY (at least one AI provider)
#
# Optional but recommended:
# - ANTHROPIC_API_KEY (for Claude models)
# - SERPER_API_KEY or TAVILY_API_KEY (for web search)
# - EVOLUTION_API_KEY (for WhatsApp integration)
#
# All other values have sensible defaults for Docker deployment
# =================================================================