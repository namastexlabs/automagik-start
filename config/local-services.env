# ===================================================================
# 🏗️ Automagik Suite - Local Services Configuration
# ===================================================================
# This configuration is for LOCAL SYSTEMD SERVICES connecting to Docker infrastructure
# All database/infrastructure connections use localhost (Docker exposes ports)

# ===================================================================
# Infrastructure Connection Settings (Docker -> Localhost)
# ===================================================================

# PostgreSQL Databases (Docker containers exposing ports on localhost)
AM_AGENTS_LABS_DATABASE_URL=postgresql://postgres:postgres@localhost:5401/am_agents_labs
AUTOMAGIK_SPARK_DATABASE_URL=postgresql://automagik:automagik@localhost:5402/automagik
EVOLUTION_DATABASE_URL=postgresql://postgres:postgres@localhost:5403/evolution_api

# Redis Connections (Docker containers exposing ports on localhost)
AUTOMAGIK_SPARK_REDIS_URL=redis://localhost:5412
EVOLUTION_REDIS_URL=redis://localhost:5413

# RabbitMQ Connection (Docker container exposing port on localhost)
RABBITMQ_URL=amqp://rabbitmq:rabbitmq@localhost:5431

# ===================================================================
# Service Port Allocations (Local Services)
# ===================================================================

# Core Services
AM_AGENTS_LABS_HOST=127.0.0.1
AM_AGENTS_LABS_PORT=8881

AUTOMAGIK_SPARK_HOST=127.0.0.1
AUTOMAGIK_SPARK_PORT=8883

AUTOMAGIK_TOOLS_HOST=127.0.0.1
AUTOMAGIK_TOOLS_PORT=8884

AUTOMAGIK_OMNI_HOST=127.0.0.1
AUTOMAGIK_OMNI_PORT=8882

AUTOMAGIK_UI_HOST=127.0.0.1
AUTOMAGIK_UI_PORT=8888

# External Services (Docker)
AUTOMAGIK_EVOLUTION_HOST=localhost
AUTOMAGIK_EVOLUTION_PORT=9000

# ===================================================================
# API Keys & Authentication
# ===================================================================

# OpenAI API Key (required for most agents)
OPENAI_API_KEY=sk-your-openai-api-key-here

# Anthropic API Key (for Claude models)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# Google API Key (for Gemini models)
GEMINI_API_KEY=your-gemini-api-key-here

# Groq API Key (for fast inference)
GROQ_API_KEY=gsk_your-groq-api-key-here

# Evolution API Key (WhatsApp integration)
EVOLUTION_API_KEY=namastex888

# Internal API Keys (for service-to-service communication)
AUTOMAGIK_API_KEY=namastex888

# ===================================================================
# Service-Specific Configuration
# ===================================================================

# am-agents-labs
DATABASE_TYPE=postgresql
DATABASE_URL=${AM_AGENTS_LABS_DATABASE_URL}
AM_LOG_LEVEL=INFO
AM_PORT=${AM_AGENTS_LABS_PORT}
HOST=${AM_AGENTS_LABS_HOST}

# automagik-spark
POSTGRES_HOST=localhost
POSTGRES_PORT=5402
POSTGRES_USER=automagik
POSTGRES_PASSWORD=automagik
POSTGRES_DB=automagik
REDIS_URL=${AUTOMAGIK_SPARK_REDIS_URL}
CELERY_BROKER_URL=${AUTOMAGIK_SPARK_REDIS_URL}
CELERY_RESULT_BACKEND=${AUTOMAGIK_SPARK_REDIS_URL}
AUTOMAGIK_HOST=${AUTOMAGIK_SPARK_HOST}
AUTOMAGIK_PORT=${AUTOMAGIK_SPARK_PORT}

# automagik-tools
HOST=${AUTOMAGIK_TOOLS_HOST}
PORT=${AUTOMAGIK_TOOLS_PORT}

# automagik-omni
API_HOST=${AUTOMAGIK_OMNI_HOST}
API_PORT=${AUTOMAGIK_OMNI_PORT}
AGENT_API_URL=http://${AM_AGENTS_LABS_HOST}:${AM_AGENTS_LABS_PORT}
AGENT_API_KEY=${AUTOMAGIK_API_KEY}
EVOLUTION_TRANSCRIPT_API=http://${AUTOMAGIK_EVOLUTION_HOST}:${AUTOMAGIK_EVOLUTION_PORT}
EVOLUTION_TRANSCRIPT_API_KEY=${EVOLUTION_API_KEY}
DATABASE_URL=sqlite:///./data/omnihub.db

# automagik-ui
NODE_ENV=production
PORT=${AUTOMAGIK_UI_PORT}
HOSTNAME=${AUTOMAGIK_UI_HOST}
NEXT_PUBLIC_API_URL=http://${AM_AGENTS_LABS_HOST}:${AM_AGENTS_LABS_PORT}
NEXT_PUBLIC_SPARK_URL=http://${AUTOMAGIK_SPARK_HOST}:${AUTOMAGIK_SPARK_PORT}
NEXT_PUBLIC_OMNI_URL=http://${AUTOMAGIK_OMNI_HOST}:${AUTOMAGIK_OMNI_PORT}
NEXT_PUBLIC_TOOLS_SSE_URL=http://${AUTOMAGIK_TOOLS_HOST}:${AUTOMAGIK_TOOLS_PORT}
NEXT_PUBLIC_TOOLS_HTTP_URL=http://${AUTOMAGIK_TOOLS_HOST}:8885
NEXT_PUBLIC_EVOLUTION_URL=http://${AUTOMAGIK_EVOLUTION_HOST}:${AUTOMAGIK_EVOLUTION_PORT}

# ===================================================================
# Optional Configuration
# ===================================================================

# Logging Levels
LOG_LEVEL=INFO
AM_LOG_SQL=false

# Development Flags
AM_FORCE_DEV_ENV=0

# Neo4j (Optional - for advanced memory features)
# NEO4J_URI=bolt://localhost:7474
# NEO4J_USERNAME=neo4j
# NEO4J_PASSWORD=password

# Graphiti (Optional - for AI memory)
# GRAPHITI_URL=http://localhost:8000